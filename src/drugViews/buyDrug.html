<template>
  <div validate.bind="validation">
    <require from="converters/currency-format"></require>
    <div class="form-group">
      <label>${drug.Name} To Buy</label>
      <div class="row">
        <div class="col-xs-8">
          <input class="form-control"
                 value.bind="buy_amount"
                 type="number"/>
        </div>
        <!-- Can't do the below in the JS because I don't know how to bind to a inner property change event... How's that done? -->
        <div class="col-xs-4">
          <p>${(drug.Price * buy_amount) | currencyFormat}</p>
        </div>
      </div>
    </div>
    <button click.delegate="buyDrugs()"
            class="btn btn-primary"
            disabled.bind="validation.isValidating"  >Buy ${buy_amount} ${drug.Name}</button>
    <button click.delegate="cancel()" class="btn btn-default">Cancel</button>
  </div>
</template>
