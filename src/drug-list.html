<template>
  <require from="./converters/currency-format"></require>
  <div repeat.for="drugVM of drugViewModels"
       show.bind="drugVM.Drug.Available"
       class="btn btn-default btn-block"
       click.delegate="$parent.ShowDrugDialog(drugVM.Drug)">
    <strong class="${drugVM.Drug.ThresholdColorClass}">${drugVM.Drug.Name} - <span class="${drug-price-color}">${drugVM.Drug.Price | currencyFormat}</span></strong>
    <div class="pull-right" show.bind="drugVM.BackpackCount > 0">${drugVM.BackpackCount} (${drugVM.HighestBuyPrice | currencyFormat})</div>
  </div>
  <modal showing.bind="showing">
    <modal-header title.bind="modalTitle" close.call="cancel()"></modal-header>
    <modal-body content_view.bind="modalView" content_model.bind="modalModel"></modal-body>
  </modal>
  <!--<div if.bind="$parent.panelBodyToShow === null" >-->
    <!--<h2>Can't afford to buy more ${drug.Name} or fit more in your backpack, and no ${drug.Name} to sell.</h2>-->
  <!--</div>-->
</template>
