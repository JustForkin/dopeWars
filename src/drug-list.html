<template>
  <require from="./converters/currency-format"></require>
  <div repeat.for="drugVM of drugViewModels"
       show.bind="drugVM.Drug.Available"
       class="btn btn-default btn-block"
       click.delegate="$parent.ShowDrugDialog(drugVM.Drug)">
    <strong class="${drugVM.Drug.ThresholdColorClass}">${drugVM.Drug.Name} - <span>${drugVM.Drug.Price | currencyFormat}</span>&nbsp;<span class="${drugVM.Drug.PriceChangeDirectionClass} ${drugVM.Drug.ThresholdChangeClass}"></span></strong>
    <div class="pull-right" show.bind="drugVM.BackpackCount > 0">${drugVM.BackpackCount} (${drugVM.HighestBuyPrice | currencyFormat})</div>
  </div>
  <modal showing.bind="showing">
    <modal-header title.bind="modalTitle" close.call="cancel()"></modal-header>
    <modal-body content_view.bind="modalView" content_model.bind="modalModel"></modal-body>
  </modal>
</template>
